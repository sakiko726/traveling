WEATHER_API_KEY = "import streamlit as st
import requests
import os

st.title("旅行先提案アプリ ✈️")

year = st.selectbox("年を選択", [2023, 2024, 2025])
month = st.selectbox("月を選択", list(range(1, 13)))
temperature = st.slider("希望の気温 (°C)", -10, 40, 20)
crowd = st.selectbox("混雑状況の許容度", ["空いてる方がいい", "どちらでも", "賑やかな方が好き"])

api_key = os.getenv("OPENWEATHER_API_KEY")

if st.button("おすすめを表示"):
    if api_key is None:
        st.error("APIキーが設定されていません！")
    else:
        lat, lon = 35.6895, 139.6917  # 東京の位置（テスト用）
        url = f"http://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={api_key}&lang=ja&units=metric"
        res = requests.get(url).json()

        temp = res["main"]["temp"]
        desc = res["weather"][0]["description"]

        st.success(f"希望の気温は {temperature}℃！")
        st.write(f"東京は現在 {temp}℃、{desc} です ☀️")
"
